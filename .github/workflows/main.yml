on:
  workflow_run:
    workflows:
      - 'Build iOS Framework'
    types:
      - completed

jobs:
  copy-folder:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Source Repository
        uses: actions/checkout@v2
        with:
          repository: veeraagam/CalendarControl
          ref: ${{ github.event.workflow_run.head_commit.id }}
      
      - name: Pushes test file
        uses: dmnemec/copy_file_to_another_repo_action@main
        env:
          API_TOKEN_GITHUB: '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'
        with:
          source-file: 'build/CalendarControl.xcframework/Info.plist'
          user_name: 'sudhanshublah'
          destination-repo: 'sudhanshublah/improved-train'
          destination-folder: 'Sources/'
          user_email: 'sudhanshuk1219@gmail.com'
          commit_message: 'A custom message for the commit'
    
    
    
#         # Commit and push changes
#           cd destination
#           git add .
#           git commit -m "Copy framework folder from source repository"
#           git push origin main
